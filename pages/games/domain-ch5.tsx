import { useState } from 'react';
import { useRouter } from 'next/router';

type Scene = {
  text: string;
  choices?: { text: string; next: number }[]; 
};

const scenes: Scene[] = [
  {
    text: `ğŸ† ë‹¹ì‹ ì€ ì´ê²¼ë‹¤.  
ë²•ì ìœ¼ë¡œë„, ê¸°ìˆ ì ìœ¼ë¡œë„, ì‹¬ë¦¬ì ìœ¼ë¡œë„.  
  
ì´ì œ kakao.gamesëŠ”  
ëˆ„ê°€ ë­ë˜ë„ ë‹¹ì‹ ì˜ ì´ë¦„ ì•„ë˜ ì¡´ì¬í•˜ëŠ” ë„ë©”ì¸ì´ë‹¤.  
  
ê·¸ëŸ¬ë‚˜ ì§„ì§œ ê³ ë¯¼ì€ ì§€ê¸ˆë¶€í„°ë‹¤.  
  
ì´ ë„ë©”ì¸ì„ ì–´ë–¤ ê²Œì„ìœ¼ë¡œ ì±„ìš¸ ê²ƒì¸ê°€.  
ì–´ë–¤ ê°ì„±ìœ¼ë¡œ, ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ, ì–´ë–¤ ì‚¬ëŒë“¤ê³¼ í•¨ê»˜.`,
    choices: [
      { text: "ğŸ¨ ì§„ì§œ ê°ì„± ê²Œì„ì„ ë§Œë“ ë‹¤", next: 1 },
      { text: "ğŸ‘¾ ì´ìƒí•œ ì‹¤í—˜ì‘ë“¤ì„ ëª¨ì•„ë³´ê¸°ë¡œ í•œë‹¤", next: 2 },
      { text: "ğŸ§© ë„ë©”ì¸ ì „ìŸ ìì²´ë¥¼ ê²Œì„ìœ¼ë¡œ ì •ì‹ ë°œë§¤í•œë‹¤", next: 3 },
    ],
  },
  {
    text: `ğŸ¨ ë‹¹ì‹ ì€ ì»¤ë‹¤ë€ ìŠ¤ì¼€ì¹˜ë¶ì„ êº¼ë‚´ ë“¤ê³   
ì˜›ë‚ ì— ë§Œë“¤ë‹¤ ë§Œ ìŒì•… ê²Œì„,  
í”½ì…€í’ ì í”„ ì•¡ì…˜,  
í•´ì»¤í†¤ì—ì„œ êµ¬ìƒë§Œ í–ˆë˜ í¼ì¦ë“¤â€¦  
  
ê·¸ ëª¨ë“  ì•„ì´ë””ì–´ë¥¼ kakao.gamesì— ë‹´ê¸°ë¡œ ê²°ì‹¬í•œë‹¤.  
  
ì´ê±´ ê·¸ëƒ¥ ë„ë©”ì¸ì´ ì•„ë‹ˆë¼  
ë‹¹ì‹ ì˜ ì„¸ê³„ë¥¼ ë³´ì—¬ì¤„ ë¬´ëŒ€ë‹¤.`,
    choices: [
      { text: "ğŸŒ± ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ ì‹œì‘", next: 4 },
    ],
  },
  {
    text: `ğŸ‘¾ ë‹¹ì‹ ì€ â€˜ë²„íŠ¼ í•˜ë‚˜ ëˆ„ë¥´ë©´ ëë‚˜ëŠ” ê²Œì„â€™  
â€˜ë¬¸ìì—´ 1ì¤„ë¡œ í”Œë ˆì´í•˜ëŠ” RPGâ€™  
â€˜ë°°ê²½ ì—†ëŠ” ëŒ€í™” ì‹œë®¬ë ˆì´í„°â€™  
  
ì´ìƒí•˜ê³  ì“¸ë°ì—†ëŠ” ì‹¤í—˜ì‘ë“¤ì„ ìˆ˜ì§‘í•˜ê¸° ì‹œì‘í•œë‹¤.  
  
ì–´ëŠìƒˆ kakao.gamesëŠ”  
ê°œë°œìë“¤ì˜ ì„±ì§€, ì´ìƒí•œ ì•„ì´ë””ì–´ë“¤ì˜ ê³ í–¥ì´ ë˜ì–´ê°„ë‹¤.`,
    choices: [
      { text: "ğŸŒ± ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ ì‹œì‘", next: 4 },
    ],
  },
  {
    text: `ğŸ§© ë‹¹ì‹ ì€ ë„ë©”ì¸ ì „ìŸì˜ ê¸°ë¡ì„  
ì •ì‹ ê²Œì„ìœ¼ë¡œ ë°œë§¤í•˜ê¸°ë¡œ ê²°ì‹¬í•œë‹¤.  
  
ìŠ¤í† ë¦¬ ë¶„ê¸°, ì„ íƒì§€, ë“œë˜ê³¤, Cloudflareâ€¦  
ë‹¹ì‹ ì˜ ì‹¤ì œ ê²½í—˜ì´ í•˜ë‚˜ì˜ ì„œì‚¬ê°€ ëœë‹¤.  
  
kakao.gamesëŠ” ì´ì œ  
ì‹¤ì œ í˜„ì‹¤ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì„œì‚¬í˜• ì¸í„°ë™í‹°ë¸Œ ê²Œì„ì˜ ëŒ€í‘œì‘ì´ ëœë‹¤.`,
    choices: [
      { text: "ğŸŒ± ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ ì‹œì‘", next: 4 },
    ],
  },
  {
    text: `ğŸŒ± ë‹¹ì‹ ì€ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ì—´ê³   
` + "`games/001-first-game.tsx`" + ` ë¼ëŠ” íŒŒì¼ì„ ë§Œë“ ë‹¤.  
  
ê·¸ë¦¬ê³  ì²« ë¬¸ì¥ì„ ì ëŠ”ë‹¤.  
  
> â€œì´ê±´ ì•„ì£¼ ì‘ê³  ì—‰ëš±í•œ ê²Œì„ì…ë‹ˆë‹¤.â€  
  
ê·¸ ìˆœê°„,  
  
ğŸ’¡ kakao.gamesì˜ ì§„ì§œ ì´ì•¼ê¸°ê°€ ì‹œì‘ëœë‹¤.`,
    choices: [
      { text: "ğŸŒ± ë‹¤ìŒ ì´ì•¼ê¸°ë¡œ", next: 999 },
    ],
  },
  {
    text: `ğŸš€ ë‹¹ì‹ ì€ ìƒˆë¡œìš´ ì²« ê²Œì„ì„ ì„¸ìƒì— ê³µê°œí•œë‹¤.  
ì´ì œ kakao.gamesëŠ” ë” ì´ìƒ ì‹¸ì›€ì˜ ë„ë©”ì¸ì´ ì•„ë‹ˆë‹¤.  
  
ì´ê±´ ì°½ì‘ì˜ ê·¼ê±°ì§€ë‹¤.  
ì´ê±´ ë§ˆì¶¤ë²•ì¥ì¸ì˜ ìš°ì£¼ë‹¤.  
  
ê·¸ë¦¬ê³ â€¦  
ë˜ ë‹¤ë¥¸ ë„ì „ì´ ë‹¹ì‹ ì„ ê¸°ë‹¤ë¦¬ê³  ìˆë‹¤.`,
    choices: [
      { text: "ğŸ‘‰ ì´ì–´ì„œ ê³„ì†í•œë‹¤", next: 999 }, // 6ì¥ìœ¼ë¡œ ì´ë™
    ],
  },
];

export default function DomainChapter5() {
  const [scene, setScene] = useState(0);
  const router = useRouter();
  const current = scenes[scene];

  const handleChoice = (next: number) => {
    if (next === 999) {
      router.push('/games/domain-ch6');
    } else {
      setScene(next);
    }
  };

  return (
    <main className="flex flex-col items-center justify-center min-h-screen bg-green-50 px-6 text-center">
      <h1 className="text-2xl font-bold mb-4">ğŸ® ë„ë©”ì¸ ì „ìŸ - ë§ˆì¶¤ë²•ì¥ì¸ì˜ ëª¨í—˜: ì œ5ì¥</h1>
      <p className="mb-6 text-lg whitespace-pre-line max-w-xl">{current.text}</p>
      <div className="flex flex-col space-y-3">
        {current.choices?.map((c, i) => (
          <button
            key={i}
            onClick={() => handleChoice(c.next)}
            className="px-4 py-2 bg-purple-700 text-white rounded-xl hover:bg-purple-800 transition"
          >
            {c.text}
          </button>
        ))}
      </div>
    </main>
  );
}
